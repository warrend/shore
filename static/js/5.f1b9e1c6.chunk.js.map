{"version":3,"sources":["components/Nav/Nav.module.scss","screens/Tracks/Tracks.module.scss","components/TrackCard/TrackCard.module.scss","components/Menu/Menu.module.scss","components/Nav/index.tsx","components/TrackCard/index.tsx","components/Menu/options.ts","components/Menu/index.tsx","screens/Tracks/index.tsx","components/icons/index.ts","components/icons/menu.svg","components/icons/arrow-left.svg","components/icons/coffee.svg","components/icons/close.svg","components/icons/check.svg","components/icons/writing.svg","components/icons/revising.svg","components/icons/collecting.svg","components/icons/default-icon.svg","components/Icon/index.tsx","utils/clickTransition.tsx","utils/useTransition.tsx","components/Icon/Icon.module.scss","components/NextCard/index.tsx","components/NextCard/NextCard.module.scss"],"names":["module","exports","Nav","changeMenuState","useApp","services","className","styles","wrapper","logo","Icon","onClick","icon","MENU_ICON","TrackCard","track","title","path","lessons","history","useHistory","handleDetailCard","lessonId","clickTransition","push","TRACKS_URL","onKeyPress","tabIndex","role","readonly","background","length","highlight","num","reduce","acc","curr","isCompleted","Math","round","completedPercentage","options","RESET_URL","text","MENU_RESET","Menu","menuState","selectors","btnClass","cn","closed","handleMenuClick","CLOSE_ICON","list","map","item","Tracks","useState","tracks","setTracks","next","setNext","token","useTransition","useEffect","a","localServices","getContinueTrack","nxt","res","getTracks","getData","CONTINUE_COPY","NextCard","lesson","readTime","TRACKS_HEADER_COPY","content","id","iconMap","menuIcon","arrowLeft","coffee","close","check","writing","revising","collecting","defaultIcon","backgroundColor","randomize","iconClass","style","hue","floor","random","randomColor","src","DEFAULT_ICON","alt","custom","func","el","document","querySelector","HTML_TAG","classList","add","TRANSITION_CLASS","setTimeout","TRANSITION_DURATION","loading","remove","lesson_info","LESSON","read"],"mappings":"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","file":"static/js/5.f1b9e1c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Nav_wrapper__-SuCi\",\"logo\":\"Nav_logo__DLlLt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Tracks_wrapper__3MDTO\",\"content\":\"Tracks_content__1unmS\",\"section\":\"Tracks_section__iZi9W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"TrackCard_wrapper__3-ARl\",\"title\":\"TrackCard_title__32eN4\",\"lessons\":\"TrackCard_lessons__36uSe\",\"highlight\":\"TrackCard_highlight__2QjKL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Menu_wrapper__3jCi5\",\"list\":\"Menu_list__1V5e6\",\"item\":\"Menu_item__ebvmz\",\"closed\":\"Menu_closed__3iPtS\"};","import React from 'react';\nimport { useApp } from '../../contexts/app';\nimport styles from './Nav.module.scss';\nimport Icon from '../Icon';\nimport { MENU_ICON } from '../../constants';\n\nfunction Nav() {\n  const {\n    services: { changeMenuState },\n  } = useApp();\n\n  return (\n    <div className={styles.wrapper}>\n      <p className={styles.logo}>RAFT</p>\n      <Icon onClick={() => changeMenuState(true)} icon={MENU_ICON} />\n    </div>\n  );\n}\n\nexport default Nav;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { TRACKS_URL } from '../../constants';\nimport { TrackData } from '../../sharedTypes';\nimport clickTransition from '../../utils/clickTransition';\nimport Icon from '../Icon';\nimport styles from './TrackCard.module.scss';\n\ntype TrackCardProps = {\n  track: TrackData;\n};\n\nfunction TrackCard({ track }: TrackCardProps) {\n  const { title, path, lessons } = track;\n  const history = useHistory();\n\n  const handleDetailCard = (lessonId: string | number) => {\n    clickTransition(() => history.push(`${TRACKS_URL}/${lessonId}`));\n    // const el = document.querySelector('html');\n    // el?.classList.add('transition');\n\n    // setTimeout(() => {\n    //   history.push(`${TRACKS_URL}/${lessonId}`);\n    // }, 500);\n  };\n\n  const completedPercentage = () => {\n    const num = track?.lessons?.reduce((acc, curr) => {\n      if (curr.isCompleted) {\n        // eslint-disable-next-line no-param-reassign\n        acc += 1;\n      }\n\n      return acc;\n    }, 0);\n\n    // @ts-ignore\n    return Math.round((num! / lessons.length) * 100);\n  };\n\n  return (\n    <div\n      className={styles.wrapper}\n      onClick={() => handleDetailCard(path!)}\n      onKeyPress={() => handleDetailCard(path!)}\n      tabIndex={0}\n      role=\"button\"\n    >\n      <div>\n        <Icon icon={track.path!} readonly background />\n      </div>\n      <div>\n        <p className={styles.title}>{title}</p>\n        <p className={styles.lessons}>{lessons?.length} lessons</p>\n        <p className={styles.highlight}>{completedPercentage()} percent read</p>\n      </div>\n    </div>\n  );\n}\n\nexport default TrackCard;\n","import { MENU_RESET, RESET_URL } from '../../constants';\n\ntype Option = {\n  path: string;\n  text: string;\n};\n\ntype Options = Option[];\n\n// eslint-disable-next-line import/prefer-default-export\nexport const options: Options = [\n  {\n    path: RESET_URL,\n    text: MENU_RESET,\n  },\n  // {\n  //   path: RESET_URL,\n  //   text: MENU_ABOUT,\n  // },\n  // {\n  //   path: RESET_URL,\n  //   text: MENU_STATS,\n  // },\n];\n","import React from 'react';\nimport cn from 'classnames';\nimport { useHistory } from 'react-router-dom';\nimport { useApp } from '../../contexts/app';\nimport Icon from '../Icon';\nimport { CLOSE_ICON } from '../../constants';\nimport styles from './Menu.module.scss';\nimport { options } from './options';\nimport clickTransition from '../../utils/clickTransition';\n\nfunction Menu() {\n  const history = useHistory();\n  const {\n    selectors: { menuState },\n    services: { changeMenuState },\n  } = useApp();\n\n  const btnClass = cn({\n    [styles.wrapper]: true,\n    [styles.closed]: !menuState,\n  });\n\n  const handleMenuClick = (path: string) => {\n    clickTransition(() => history.push(path));\n    changeMenuState(false);\n  };\n\n  return (\n    <div className={btnClass}>\n      <Icon icon={CLOSE_ICON} onClick={() => changeMenuState(false)} />\n      <div className={styles.list}>\n        {options.map(({ text, path }) => (\n          <p\n            key={text}\n            className={styles.item}\n            onClick={() => {\n              handleMenuClick(path);\n            }}\n            role=\"presentation\"\n            onKeyPress={() => handleMenuClick(path)}\n          >\n            {text}\n          </p>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default Menu;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Nav from '../../components/Nav';\nimport styles from './Tracks.module.scss';\nimport TrackCard from '../../components/TrackCard';\nimport Menu from '../../components/Menu';\nimport { TrackData } from '../../sharedTypes';\nimport localServices from '../../services/localServices';\nimport { CONTINUE_COPY, TRACKS_HEADER_COPY } from '../../constants';\nimport { useApp } from '../../contexts/app';\nimport NextCard from '../../components/NextCard';\nimport useTransition from '../../utils/useTransition';\n// import { TLastFinished } from '../../data';\n\nfunction Tracks() {\n  const [tracks, setTracks] = useState<TrackData[]>([]);\n  const [next, setNext] = useState<any>();\n  const history = useHistory();\n  const {\n    selectors: { token },\n  } = useApp();\n\n  useTransition();\n\n  useEffect(() => {\n    const getData = async () => {\n      if (token === 'show-welcome' || token === null) {\n        return history.push('/welcome');\n      }\n      const nxt = await localServices.getContinueTrack();\n\n      const res = localServices.getTracks();\n      setTracks(res);\n      return setNext(nxt);\n    };\n\n    getData();\n\n    return () => {};\n  }, []);\n\n  return (\n    <div>\n      <Nav />\n      <div className={styles.wrapper}>\n        {next && next.track !== '' && (\n          <>\n            <h2>{CONTINUE_COPY}</h2>\n            <NextCard\n              lesson={next.lesson.lesson}\n              readTime={next.lesson.readTime}\n              track={next.track}\n            />\n          </>\n        )}\n        <h2>{TRACKS_HEADER_COPY}</h2>\n        <div className={styles.content}>\n          {tracks &&\n            tracks.map((item: TrackData) => (\n              <TrackCard key={item.id} track={item} />\n            ))}\n        </div>\n      </div>\n      <Menu />\n    </div>\n  );\n}\n\nexport default Tracks;\n","import menuIcon from './menu.svg';\nimport arrowLeft from './arrow-left.svg';\nimport coffee from './coffee.svg';\nimport close from './close.svg';\nimport check from './check.svg';\nimport writing from './writing.svg';\nimport revising from './revising.svg';\nimport collecting from './collecting.svg';\nimport defaultIcon from './default-icon.svg';\n\ntype IconMap = {\n  [key: string]: string;\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport const iconMap: IconMap = {\n  menuIcon,\n  arrowLeft,\n  coffee,\n  close,\n  check,\n  writing,\n  revising,\n  collecting,\n  defaultIcon,\n};\n","export default __webpack_public_path__ + \"static/media/menu.bc8a5bc9.svg\";","export default __webpack_public_path__ + \"static/media/arrow-left.7ed8615f.svg\";","export default __webpack_public_path__ + \"static/media/coffee.89d31d8c.svg\";","export default __webpack_public_path__ + \"static/media/close.9b3aff95.svg\";","export default __webpack_public_path__ + \"static/media/check.ba41cd42.svg\";","export default __webpack_public_path__ + \"static/media/writing.36d2035a.svg\";","export default __webpack_public_path__ + \"static/media/revising.3a538abe.svg\";","export default __webpack_public_path__ + \"static/media/collecting.7f2c68aa.svg\";","export default __webpack_public_path__ + \"static/media/default-icon.89d31d8c.svg\";","import React from 'react';\nimport cn from 'classnames';\nimport styles from './Icon.module.scss';\nimport { iconMap } from '../icons';\nimport { DEFAULT_ICON } from '../../constants';\n\ntype Props = {\n  onClick?: () => void;\n  icon: string;\n  background?: boolean;\n  readonly?: boolean;\n  backgroundColor?: string;\n  randomize?: boolean;\n};\n\nfunction Icon({\n  onClick,\n  icon,\n  background,\n  readonly,\n  backgroundColor,\n  randomize,\n}: Props) {\n  const iconClass = cn({\n    [styles.wrapper]: true,\n    [styles.background]: background,\n    [styles.readonly]: readonly,\n  });\n\n  const randomColor = () => {\n    const hue = Math.floor(Math.random() * 361);\n\n    return `hsl(${hue}, 50%, 95%)`;\n  };\n\n  return (\n    <div\n      className={iconClass}\n      onClick={onClick}\n      role=\"button\"\n      tabIndex={0}\n      onKeyPress={onClick}\n      style={{ background: randomize ? randomColor() : backgroundColor }}\n    >\n      <img\n        src={iconMap[icon] ? iconMap[icon] : iconMap[DEFAULT_ICON]}\n        alt=\"icon\"\n        className={styles.custom}\n      />\n    </div>\n  );\n}\n\nexport default Icon;\n","import { TRANSITION_CLASS, HTML_TAG, TRANSITION_DURATION } from '../constants';\n\nfunction clickTransition(func: any) {\n  const el = document.querySelector(HTML_TAG);\n  el?.classList.add(TRANSITION_CLASS);\n\n  setTimeout(() => {\n    func();\n  }, TRANSITION_DURATION);\n}\n\nexport default clickTransition;\n","import React, { useEffect } from 'react';\nimport { TRANSITION_CLASS, HTML_TAG } from '../constants';\n\nfunction useTransition(loading?: boolean) {\n  useEffect(() => {\n    if (!loading) {\n      const el = document.querySelector(HTML_TAG);\n      el?.classList.remove(TRANSITION_CLASS);\n    }\n  }, []);\n\n  return <></>;\n}\n\nexport default useTransition;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Icon_wrapper__3ud2K\",\"background\":\"Icon_background__nfzL-\",\"readonly\":\"Icon_readonly__aqeaZ\"};","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { LESSON, TRACKS_URL } from '../../constants';\nimport styles from './NextCard.module.scss';\nimport Icon from '../Icon';\nimport { LessonData, TrackData } from '../../sharedTypes';\nimport clickTransition from '../../utils/clickTransition';\n\ntype NextCardProps = {\n  lesson: LessonData;\n  readTime: string;\n  track?: TrackData;\n};\n\nfunction NextCard({ lesson, readTime, track }: NextCardProps) {\n  const { title, id } = lesson!;\n  const history = useHistory();\n\n  const handleDetailCard = (lessonId: string | number) => {\n    clickTransition(() =>\n      history.push(`${TRACKS_URL}/${track?.path}/lessons/${lessonId}`)\n    );\n  };\n\n  return (\n    <div\n      className={styles.wrapper}\n      onClick={() => handleDetailCard(id!)}\n      onKeyPress={() => handleDetailCard(id!)}\n      role=\"button\"\n      tabIndex={0}\n    >\n      <Icon icon={track?.path!} background />\n      <div>\n        <div className={styles.lesson}>\n          <div className={styles.track}>{track?.title}</div>\n          <div className={styles.lesson_info}>\n            {LESSON} {id}\n          </div>\n        </div>\n        <div className={styles.title}>{title}</div>\n        <div className={styles.read}>{readTime}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default NextCard;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NextCard_wrapper__3__yF\",\"title\":\"NextCard_title__2Ve9f\",\"lesson\":\"NextCard_lesson__cUB1O\",\"track\":\"NextCard_track__-UwyK\",\"read\":\"NextCard_read__3icJB\"};"],"sourceRoot":""}