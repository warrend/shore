{"version":3,"sources":["screens/LessonScreen/Lesson.module.scss","components/Lesson/Lesson.module.scss","components/Lesson/index.tsx","screens/LessonScreen/index.tsx","components/icons/index.ts","components/icons/menu.svg","components/icons/arrow-left.svg","components/icons/coffee.svg","components/icons/close.svg","components/icons/check.svg","components/icons/writing.svg","components/icons/revising.svg","components/icons/collecting.svg","components/icons/default-icon.svg","components/Icon/index.tsx","utils/clickTransition.tsx","utils/useTransition.tsx","components/interactions/Button/index.tsx","components/interactions/Button/Button.module.scss","components/Icon/Icon.module.scss","components/Slider/index.tsx","components/Slider/Slider.module.scss"],"names":["module","exports","Lesson","checkNextLesson","lesson","markdown","handleGoBack","handleFinishLesson","handleRemoveFinishedLesson","readTime","className","styles","wrapper","nav","Icon","icon","ARROW_LEFT","onClick","content","read_time","buttons","Button","isCompleted","name","UNFINISH_LESSON_BUTTON","FINISH_LESSON_BUTTON","NEXT_BUTTON","secondary","Slider","LAST_LESSON_MESSAGE","GO_BACK_BUTTON","LessonScreen","useState","setLesson","setMarkdown","setReadTime","lessonCount","setLessonCount","error","setError","useApp","services","changeSliderState","changeLoadingState","history","useHistory","useParams","slug","lessonId","nextLesson","parseInt","useTransition","useEffect","a","localServices","getLesson","res","count","getLessonCount","undefined","getData","finishLesson","removeFinishedLesson","clickTransition","push","TRACKS_URL","iconMap","menuIcon","arrowLeft","coffee","close","check","writing","revising","collecting","defaultIcon","background","readonly","backgroundColor","randomize","iconClass","cn","role","tabIndex","onKeyPress","style","hue","Math","floor","random","randomColor","src","DEFAULT_ICON","alt","custom","func","el","document","querySelector","HTML_TAG","classList","add","TRANSITION_CLASS","setTimeout","TRANSITION_DURATION","loading","remove","warning","disabled","btnClass","button","alternate","type","children","sliderState","selectors","closed"],"mappings":"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","file":"static/js/6.c5e976b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Lesson_wrapper__3Fm54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Lesson_content__9s23P\",\"nav\":\"Lesson_nav__3HHWX\",\"buttons\":\"Lesson_buttons__3sdh9\",\"read_time\":\"Lesson_read_time__2qLwl\"};","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport {\n  NEXT_BUTTON,\n  FINISH_LESSON_BUTTON,\n  UNFINISH_LESSON_BUTTON,\n  ARROW_LEFT,\n  LAST_LESSON_MESSAGE,\n  GO_BACK_BUTTON,\n} from '../../constants';\nimport Button from '../interactions/Button';\nimport Icon from '../Icon';\nimport styles from './Lesson.module.scss';\nimport { LessonData } from '../../sharedTypes';\nimport Slider from '../Slider';\n\ntype Props = {\n  checkNextLesson: () => void;\n  lesson: LessonData;\n  handleGoBack: () => void;\n  handleFinishLesson: () => void;\n  handleRemoveFinishedLesson: () => void;\n  markdown: string;\n  readTime: string;\n};\n\nfunction Lesson({\n  checkNextLesson,\n  lesson,\n  markdown,\n  handleGoBack,\n  handleFinishLesson,\n  handleRemoveFinishedLesson,\n  readTime,\n}: Props) {\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.nav}>\n        <Icon icon={ARROW_LEFT} onClick={handleGoBack} />\n      </div>\n\n      <div className={styles.content}>\n        <div className={styles.read_time}>{readTime}</div>\n        <ReactMarkdown>{markdown}</ReactMarkdown>\n        <div className={styles.buttons}>\n          <Button\n            onClick={\n              lesson && lesson.isCompleted\n                ? handleRemoveFinishedLesson\n                : handleFinishLesson\n            }\n            name={\n              lesson && lesson.isCompleted\n                ? UNFINISH_LESSON_BUTTON\n                : FINISH_LESSON_BUTTON\n            }\n          />\n          <Button onClick={checkNextLesson} name={NEXT_BUTTON} secondary />\n        </div>\n      </div>\n      <Slider>\n        <div>\n          <div>{LAST_LESSON_MESSAGE}</div>\n          <Button name={GO_BACK_BUTTON} onClick={handleGoBack} />\n        </div>\n      </Slider>\n    </div>\n  );\n}\n\nexport default Lesson;\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { TRACKS_URL } from '../../constants';\nimport styles from './Lesson.module.scss';\nimport Lesson from '../../components/Lesson';\nimport { LessonData, Params, TLesson } from '../../sharedTypes';\nimport localServices from '../../services/localServices';\nimport { useApp } from '../../contexts/app';\nimport useTransition from '../../utils/useTransition';\nimport clickTransition from '../../utils/clickTransition';\n\nfunction LessonScreen() {\n  const [lesson, setLesson] = useState<LessonData>();\n  const [markdown, setMarkdown] = useState<string>('');\n  const [readTime, setReadTime] = useState<string>('');\n  const [lessonCount, setLessonCount] = useState<number | null>();\n  const [error, setError] = useState<boolean>(false);\n\n  const {\n    services: { changeSliderState, changeLoadingState },\n  } = useApp();\n\n  const history = useHistory();\n  const { slug, lessonId } = useParams<Params>();\n\n  const nextLesson = parseInt(lessonId!, 10) + 1;\n\n  useTransition();\n\n  useEffect(() => {\n    const getData = async () => {\n      changeLoadingState(true);\n\n      if (slug && lessonId) {\n        const res = await localServices.getLesson(slug, lessonId);\n        const count = localServices.getLessonCount(slug);\n\n        if (res !== undefined) {\n          setLesson(res.lesson);\n          setMarkdown(res.markdown);\n          setReadTime(res.readTime);\n          setLessonCount(count);\n        } else {\n          setError(true);\n        }\n      }\n      changeLoadingState(false);\n    };\n\n    getData();\n  }, [lessonId]);\n\n  const checkNextLesson = () => {\n    if (parseInt(lessonId!, 10) + 1 <= lessonCount!) {\n      return clickTransition(() =>\n        history.push(`${TRACKS_URL}/${slug}/lessons/${nextLesson}`)\n      );\n    }\n\n    return changeSliderState(true);\n  };\n\n  const handleGoBack = () => {\n    clickTransition(() => history.push(`${TRACKS_URL}/${slug}`));\n    changeSliderState(false);\n  };\n\n  const handleFinishLesson = async () => {\n    const res: TLesson = await localServices.finishLesson(slug!, lessonId!);\n    setLesson(res?.lesson);\n  };\n\n  const handleRemoveFinishedLesson = async () => {\n    const res: TLesson = await localServices.removeFinishedLesson(\n      slug!,\n      lessonId!\n    );\n\n    setLesson(res?.lesson);\n  };\n\n  return (\n    <>\n      <div className={styles.wrapper}>\n        {!error ? (\n          <Lesson\n            handleFinishLesson={handleFinishLesson}\n            handleGoBack={handleGoBack}\n            handleRemoveFinishedLesson={handleRemoveFinishedLesson}\n            lesson={lesson!}\n            markdown={markdown!}\n            readTime={readTime}\n            checkNextLesson={checkNextLesson}\n          />\n        ) : (\n          <div>\n            Sorry, this lesson does not exist. Lorem, ipsum dolor sit amet\n            consectetur adipisicing elit. Doloribus eligendi commodi numquam eum\n            voluptates at voluptatum enim, dolor nulla dolores dolorum nisi.\n            Repudiandae velit, voluptates laudantium impedit numquam cupiditate\n            perferendis.\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default LessonScreen;\n","import menuIcon from './menu.svg';\nimport arrowLeft from './arrow-left.svg';\nimport coffee from './coffee.svg';\nimport close from './close.svg';\nimport check from './check.svg';\nimport writing from './writing.svg';\nimport revising from './revising.svg';\nimport collecting from './collecting.svg';\nimport defaultIcon from './default-icon.svg';\n\ntype IconMap = {\n  [key: string]: string;\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport const iconMap: IconMap = {\n  menuIcon,\n  arrowLeft,\n  coffee,\n  close,\n  check,\n  writing,\n  revising,\n  collecting,\n  defaultIcon,\n};\n","export default __webpack_public_path__ + \"static/media/menu.bc8a5bc9.svg\";","export default __webpack_public_path__ + \"static/media/arrow-left.7ed8615f.svg\";","export default __webpack_public_path__ + \"static/media/coffee.89d31d8c.svg\";","export default __webpack_public_path__ + \"static/media/close.9b3aff95.svg\";","export default __webpack_public_path__ + \"static/media/check.ba41cd42.svg\";","export default __webpack_public_path__ + \"static/media/writing.36d2035a.svg\";","export default __webpack_public_path__ + \"static/media/revising.3a538abe.svg\";","export default __webpack_public_path__ + \"static/media/collecting.7f2c68aa.svg\";","export default __webpack_public_path__ + \"static/media/default-icon.89d31d8c.svg\";","import React from 'react';\nimport cn from 'classnames';\nimport styles from './Icon.module.scss';\nimport { iconMap } from '../icons';\nimport { DEFAULT_ICON } from '../../constants';\n\ntype Props = {\n  onClick?: () => void;\n  icon: string;\n  background?: boolean;\n  readonly?: boolean;\n  backgroundColor?: string;\n  randomize?: boolean;\n};\n\nfunction Icon({\n  onClick,\n  icon,\n  background,\n  readonly,\n  backgroundColor,\n  randomize,\n}: Props) {\n  const iconClass = cn({\n    [styles.wrapper]: true,\n    [styles.background]: background,\n    [styles.readonly]: readonly,\n  });\n\n  const randomColor = () => {\n    const hue = Math.floor(Math.random() * 361);\n\n    return `hsl(${hue}, 50%, 95%)`;\n  };\n\n  return (\n    <div\n      className={iconClass}\n      onClick={onClick}\n      role=\"button\"\n      tabIndex={0}\n      onKeyPress={onClick}\n      style={{ background: randomize ? randomColor() : backgroundColor }}\n    >\n      <img\n        src={iconMap[icon] ? iconMap[icon] : iconMap[DEFAULT_ICON]}\n        alt=\"icon\"\n        className={styles.custom}\n      />\n    </div>\n  );\n}\n\nexport default Icon;\n","import { TRANSITION_CLASS, HTML_TAG, TRANSITION_DURATION } from '../constants';\n\nfunction clickTransition(func: any) {\n  const el = document.querySelector(HTML_TAG);\n  el?.classList.add(TRANSITION_CLASS);\n\n  setTimeout(() => {\n    func();\n  }, TRANSITION_DURATION);\n}\n\nexport default clickTransition;\n","import React, { useEffect } from 'react';\nimport { TRANSITION_CLASS, HTML_TAG } from '../constants';\n\nfunction useTransition(loading?: boolean) {\n  useEffect(() => {\n    if (!loading) {\n      const el = document.querySelector(HTML_TAG);\n      el?.classList.remove(TRANSITION_CLASS);\n    }\n  }, []);\n\n  return <></>;\n}\n\nexport default useTransition;\n","import React from 'react';\nimport cn from 'classnames';\nimport styles from './Button.module.scss';\n\ntype Props = {\n  name: string;\n  onClick: () => void;\n  secondary?: boolean;\n  warning?: boolean;\n  disabled?: boolean;\n};\n\nfunction Button({ name, onClick, secondary, warning, disabled }: Props) {\n  const btnClass = cn({\n    [styles.button]: true,\n    [styles.alternate]: secondary,\n    [styles.warning]: warning,\n    [styles.disabled]: disabled,\n  });\n\n  return (\n    <button\n      onClick={onClick}\n      className={btnClass}\n      type=\"button\"\n      disabled={disabled}\n    >\n      {name}\n    </button>\n  );\n}\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__7BOOM\",\"alternate\":\"Button_alternate__Hc_Lm\",\"warning\":\"Button_warning__21l9b\",\"disabled\":\"Button_disabled__2Lm8E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Icon_wrapper__3ud2K\",\"background\":\"Icon_background__nfzL-\",\"readonly\":\"Icon_readonly__aqeaZ\"};","import React from 'react';\nimport cn from 'classnames';\nimport { useApp } from '../../contexts/app';\nimport styles from './Slider.module.scss';\nimport Button from '../interactions/Button';\n\ntype SliderProps = {\n  children?: React.ReactNode;\n};\n\nfunction Slider({ children }: SliderProps) {\n  const {\n    selectors: { sliderState },\n    services: { changeSliderState },\n  } = useApp();\n\n  const btnClass = cn({\n    [styles.wrapper]: true,\n    [styles.closed]: !sliderState,\n  });\n\n  return (\n    <div className={btnClass}>\n      <Button onClick={() => changeSliderState(false)} name=\"close\" />\n      {children}\n    </div>\n  );\n}\n\nexport default Slider;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Slider_wrapper__1Km2g\",\"closed\":\"Slider_closed__1z77m\"};"],"sourceRoot":""}