(this.webpackJsonpraft=this.webpackJsonpraft||[]).push([[1],[,,function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"v",(function(){return i})),n.d(e,"x",(function(){return a})),n.d(e,"w",(function(){return c})),n.d(e,"h",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"q",(function(){return u})),n.d(e,"j",(function(){return l})),n.d(e,"s",(function(){return d})),n.d(e,"r",(function(){return f})),n.d(e,"l",(function(){return p})),n.d(e,"k",(function(){return h})),n.d(e,"m",(function(){return v})),n.d(e,"y",(function(){return b})),n.d(e,"n",(function(){return g})),n.d(e,"a",(function(){return j})),n.d(e,"d",(function(){return m})),n.d(e,"c",(function(){return O})),n.d(e,"e",(function(){return x})),n.d(e,"p",(function(){return w})),n.d(e,"i",(function(){return k})),n.d(e,"g",(function(){return S})),n.d(e,"A",(function(){return y})),n.d(e,"o",(function(){return L})),n.d(e,"z",(function(){return _})),n.d(e,"B",(function(){return D})),n.d(e,"u",(function(){return C})),n.d(e,"t",(function(){return N}));var r="finished",i="token",a="app-token",c="show-welcome",o="1",s=250,u="min read",l="lastFinished",d="This will reset all data. This cannot be undone.",f="Reset my data",p="Lesson",h="You have reached the last lesson.",v="Lessons",b="Tracks",g="menuIcon",j="arrowLeft",m="coffee",O="close",x="defaultIcon",w="Next",k="Go back",S="Finish Lesson",y="Remove as finished",L="Reset",_="/app/tracks",D="/welcome",C="/",N="/app/reset"},,,function(t,e,n){"use strict";n.r(e);var r=n(17),i=n(18),a=n(19),c=n(20),o=[{id:0,title:"Collecting",path:"collecting",lessons:r.default},{id:1,title:"Writing",path:"writing",lessons:i.default},{id:2,title:"Revising",path:"revising",lessons:a.default},{id:3,title:"Submitting",path:"submitting",lessons:c.default}];e.default=o},,,,,,function(t,e,n){"use strict";var r=n(6),i=n.n(r),a=n(13),c=n(10),o=n(2),s=n(5),u={getData:function(t){var e=localStorage.getItem(t)||"";return JSON.parse(e)},setData:function(t,e){var n=JSON.stringify(e);return localStorage.setItem(t,n)},getTracks:function(){return s.default.reduce((function(t,e){var n,r=null===e||void 0===e||null===(n=e.lessons)||void 0===n?void 0:n.map((function(t){return u.checkIfCompleted(t,e.id)}));return t.push(Object(c.a)(Object(c.a)({},e),{},{lessons:r})),t}),[])},getLessonCount:function(t){var e,n=u.getTrack(t);return n?null===(e=n.lessons)||void 0===e?void 0:e.length:null},getMarkdown:function(){var t=Object(a.a)(i.a.mark((function t(e,r){var a,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(38)("./".concat(e,"/").concat(null===r||void 0===r?void 0:r.path));case 2:return a=t.sent,t.next=5,fetch(a.default);case 5:return c=t.sent,t.next=8,c.text();case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getLesson:function(){var t=Object(a.a)(i.a.mark((function t(e,n){var r,a,c,s,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.getTracks(),a=r&&r.find((function(t){return t.path===e}))){t.next=4;break}return t.abrupt("return",void 0);case 4:if(c=(null===a||void 0===a?void 0:a.lessons)&&a.lessons.find((function(t){return"".concat(t.id)===n}))){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.next=9,u.getMarkdown(e,c);case 9:return s=t.sent,l=u.getLessonReadTime(s),d=Math.ceil(l.split(" ").length/o.b),t.abrupt("return",{markdown:s,lesson:c,readTime:"".concat(d," ").concat(o.q)});case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),getLessonReadTime:function(t){return t.replace(/[^\w\s]/g,"")},getTrack:function(t){var e,n=s.default.find((function(e){return e.path===t})),r=null===n||void 0===n||null===(e=n.lessons)||void 0===e?void 0:e.map((function(t){return u.checkIfCompleted(t,n.id)}));return Object(c.a)(Object(c.a)({},n),{},{lessons:r})},checkIfCompleted:function(t,e){var n={isCompleted:!1},r=u.getData(o.f);return r&&r[e].includes("".concat(t.id))&&(n.isCompleted=!0),Object(c.a)(Object(c.a)({},t),n)},finishLesson:function(t,e){var n=u.getData(o.f),r=null===s.default||void 0===s.default?void 0:s.default.find((function(e){return e.path===t}));return n["".concat(null===r||void 0===r?void 0:r.id)].includes(e)?null:(n["".concat(null===r||void 0===r?void 0:r.id)].push(e),u.setData(o.f,n),u.setData(o.j,{track:null===r||void 0===r?void 0:r.id,lesson:e}),u.getLesson(t,e))},removeFinishedLesson:function(t,e){var n=u.getData(o.f),r=null===s.default||void 0===s.default?void 0:s.default.find((function(e){return e.path===t}));if(!n["".concat(null===r||void 0===r?void 0:r.id)].includes("".concat(e)))return null;var i=n["".concat(null===r||void 0===r?void 0:r.id)].filter((function(t){return t!==e}));return n["".concat(null===r||void 0===r?void 0:r.id)]=i,u.setData(o.f,n),u.getLesson(t,e)},getNextLesson:function(){var t=Object(a.a)(i.a.mark((function t(e){var n,r,a,c,l,d,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.getData(o.f),a=null===s.default||void 0===s.default?void 0:s.default.find((function(t){return t.path===e})),(c=r[null===a||void 0===a?void 0:a.id]).length){t.next=5;break}return t.abrupt("return",u.getLesson(e,o.h));case 5:if((l=c.reduce((function(t,e){return t>e?t:e})))!==(null===a||void 0===a||null===(n=a.lessons)||void 0===n?void 0:n.length.toString())){t.next=8;break}return t.abrupt("return",null);case 8:return d=parseInt(l,10)+1,t.next=11,u.getLesson(e,"".concat(d));case 11:return f=t.sent,t.abrupt("return",f);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=u},function(t,e,n){"use strict";n.d(e,"b",(function(){return b}));var r=n(6),i=n.n(r),a=n(13),c=n(10),o=n(15),s=n(0),u=n(11),l=n(2),d=n(5),f={track:"",lesson:""},p=d.default.reduce((function(t,e){return t[e.id]=[],t}),{}),h=n(1),v=Object(s.createContext)({});function b(){return Object(s.useContext)(v)}e.a=function(t){var e=t.children,n=Object(s.useState)(null),r=Object(o.a)(n,2),d=r[0],b=r[1],g=Object(s.useState)(!1),j=Object(o.a)(g,2),m=j[0],O=j[1],x=Object(s.useState)(""),w=Object(o.a)(x,2),k=w[0],S=w[1],y=Object(s.useState)(!1),L=Object(o.a)(y,2),_=L[0],D=L[1],C={sliderState:d,menuState:_,token:k,loading:m},N={startApp:function(){if(localStorage.getItem(l.f)){var t=u.a.getData(l.f),e={};if(Object.keys(t).length>Object.keys(p).length){var n={};return Object.keys(t).map((function(e){p[e]&&(n[e]=t[e])})),u.a.setData(l.f,n)}Object.keys(p).map((function(n){t[n]||(e[n]=[])})),Object.keys(e).length&&u.a.setData(l.f,Object(c.a)(Object(c.a)({},t),e))}return null!==k&&k!==l.w||(u.a.setData(l.f,p),u.a.setData(l.j,f)),S(l.x)},registerUser:function(){u.a.setData("token","app-token"),S(l.x)},updatePageScroll:function(t){document.body.style.overflow=t?"hidden":"visible"},changeSliderState:function(t){b(t),N.updatePageScroll(t)},changeMenuState:function(t){D(t),N.updatePageScroll(t)},resetData:function(){var t=Object(a.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.a.setData(l.v,l.w),u.a.setData(l.f,p),S(l.w);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),changeLoadingState:function(t){return O(t)}};Object(s.useEffect)((function(){var t=localStorage.getItem(l.v);return S(JSON.parse(t))}),[N.startApp]);var T={services:N,selectors:C};return Object(h.jsx)(v.Provider,{value:T,children:e})}},,,,,function(t,e,n){"use strict";n.r(e);e.default=[{id:1,title:"What is Collecting",path:"1.md"},{id:2,title:"Start Collecting",path:"2.md"},{id:3,title:"Exercises",path:"3.md"},{id:4,title:"Start",path:"4.md"}]},function(t,e,n){"use strict";n.r(e);e.default=[{id:1,title:"What is Writing",path:"1.md"},{id:2,title:"Start Writing",path:"2.md"},{id:3,title:"Exercises",path:"3.md"},{id:4,title:"Something else",path:"4.md"}]},function(t,e,n){"use strict";n.r(e);e.default=[{id:1,title:"What is Revising",path:"1.md"},{id:2,title:"Start Revising",path:"2.md"},{id:3,title:"Exercises",path:"3.md"},{id:4,title:"Next steps",path:"4.md"}]},function(t,e,n){"use strict";n.r(e);e.default=[{id:1,title:"What is Submitting",path:"1.md"},{id:2,title:"Start Submitting",path:"2.md"},{id:3,title:"Exercises",path:"3.md"},{id:4,title:"Start",path:"4.md"}]},,,function(t,e,n){t.exports={loader:"Loader_loader__2hZcM",on:"Loader_on__3BHiU",inner:"Loader_inner__2tNJD",loader_one:"Loader_loader_one__1nE_3"}},,,,function(t,e,n){t.exports={wrapper:"App_wrapper__RCHjb",overlay:"App_overlay__2FvzF"}},,,,,,,,,function(t,e,n){},,function(t,e,n){var r={"./":[5],"./collecting":[17],"./collecting/":[17],"./collecting/1.md":[49,10],"./collecting/2.md":[50,11],"./collecting/3.md":[51,12],"./collecting/4.md":[52,13],"./collecting/index":[17],"./collecting/index.js":[17],"./index":[5],"./index.ts":[5],"./revising":[19],"./revising/":[19],"./revising/1.md":[53,14],"./revising/2.md":[54,15],"./revising/3.md":[55,16],"./revising/4.md":[56,17],"./revising/index":[19],"./revising/index.js":[19],"./submitting":[20],"./submitting/":[20],"./submitting/1.md":[57,18],"./submitting/2.md":[58,19],"./submitting/3.md":[59,20],"./submitting/4.md":[60,21],"./submitting/index":[20],"./submitting/index.js":[20],"./writing":[18],"./writing/":[18],"./writing/1.md":[61,22],"./writing/2.md":[62,23],"./writing/3.md":[63,24],"./writing/4.md":[64,25],"./writing/index":[18],"./writing/index.ts":[18]};function i(t){if(!n.o(r,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id=38,t.exports=i},,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(30),c=n.n(a),o=(n(36),n(14)),s=n(6),u=n.n(s),l=n(13),d=n(15),f=n(22),p=n.n(f),h=n(24),v=n(3),b=n(12),g=n(27),j=n.n(g),m=n(2),O=n(1),x=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,247))})),w=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,246))})),k=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,242))})),S=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,244))}));var y=function(){var t=Object(v.g)(),e=Object(b.b)().selectors.token;return Object(r.useEffect)((function(){return e===m.w?t.push("/welcome"):function(){}}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{children:"Loading..."}),children:Object(O.jsxs)(v.d,{children:[Object(O.jsx)(v.b,{path:"/app",exact:!0,children:Object(O.jsx)(v.a,{to:"/app/tracks"})}),Object(O.jsx)(v.b,{exact:!0,path:m.z,children:Object(O.jsx)(S,{})}),Object(O.jsx)(v.b,{exact:!0,path:"".concat(m.z,"/:slug"),component:w}),Object(O.jsx)(v.b,{path:"".concat(m.z,"/:slug?/(lessons)?/:lessonId"),component:x,exact:!0}),Object(O.jsx)(v.b,{exact:!0,path:m.t,component:k})]})})})},L=n(23),_=n.n(L);var D=function(){var t,e=Object(b.b)().selectors.loading;console.log("loading",e);var n=p()((t={},Object(o.a)(t,_.a.loader,!0),Object(o.a)(t,_.a.on,e),t));return Object(O.jsx)("div",{className:n,children:Object(O.jsx)("div",{className:_.a.inner})})},C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,245))}));var N=function(){var t=Object(r.useState)(!1),e=Object(d.a)(t,2),n=(e[0],e[1]),i=Object(b.b)(),a=i.services,c=i.selectors,s=c.menuState,f=c.sliderState;Object(r.useEffect)((function(){(function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),t.prev=1,t.next=4,a.startApp();case 4:n(!1),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(!1);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var g=p()(Object(o.a)({},j.a.overlay,s||f));return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)("div",{children:"Loading..."}),children:Object(O.jsx)("div",{className:j.a.wrapper,children:Object(O.jsxs)(v.d,{children:[Object(O.jsx)(v.b,{exact:!0,path:"/",children:Object(O.jsx)(v.a,{to:"/app"})}),Object(O.jsx)(v.b,{path:"/app",children:Object(O.jsx)(y,{})}),Object(O.jsx)(v.b,{path:"/welcome",component:C,exact:!0})]})})}),Object(O.jsx)("div",{className:g}),Object(O.jsx)(D,{})]})})},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var E=function(t){t&&t instanceof Function&&n.e(9).then(n.bind(null,243)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),i(t),a(t),c(t)}))};c.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(b.a,{children:Object(O.jsx)(N,{})})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/shore",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/shore","/service-worker.js");T?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):W(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):W(e,t)}))}}(),E()}],[[48,2,3]]]);
//# sourceMappingURL=main.91544701.chunk.js.map